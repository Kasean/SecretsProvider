<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Secret</title>
  <link rel="stylesheet" th:href="@{/css/polygonal-bg.css}">
  <link rel="stylesheet" th:href="@{/css/main-styles.css}">
</head>
<body>

<div class="secret-container">
  <div class="secret-result" th:if="${secret}">
    <h3 class="result-title">Your Secret:</h3>
    <div class="secret-link-container">
      <p th:text="${secret}" class="secret-link"></p>
    </div>
    <button onclick="copyToClipboard()" class="copy-btn">Copy to Clipboard</button>
  </div>
</div>

<script>
  function copyToClipboard() {
      const linkElement = document.querySelector('.secret-link');
      const textToCopy = linkElement.textContent;

      navigator.clipboard.writeText(textToCopy).then(() => {
          const btn = document.querySelector('.copy-btn');
          btn.textContent = 'Copied!';
          btn.style.backgroundColor = '#4CAF50';
          btn.style.color = 'white';
          btn.style.borderColor = '#45a049';

          setTimeout(() => {
              btn.textContent = 'Copy to Clipboard';
              btn.style.backgroundColor = '#f5f5f5';
              btn.style.color = '#555';
              btn.style.borderColor = '#ddd';
          }, 2000);
      }).catch(err => {
          console.error('Failed to copy: ', err);
      });
  }
</script>
</body>
</html>